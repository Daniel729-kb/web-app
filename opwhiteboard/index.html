<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作業効率管理デジタルホワイトボード</title>
    
    <!-- 共通CSSファイルの読み込み -->
    <link rel="stylesheet" href="../styles/variables.css">
    <link rel="stylesheet" href="../styles/components.css">
    <link rel="stylesheet" href="whiteboard-specific.css">
</head>
<body>
    <div class="container">
        <h1>作業効率管理ボード</h1>

        <div class="improvement-note card">
            <div class="card-body">
                <h3>📋 使用方法</h3>
                <ol style="margin-left: 20px;">
                    <li><strong>貨物データの入力</strong>：「📄 CSVインポート」で一括追加または「➕ 新規追加」で個別入力</li>
                    <li><strong>CSVテンプレート</strong>：「📥 CSVテンプレート」をダウンロードしてExcelで編集可能</li>
                    <li><strong>高さ制限設定</strong>：用途に応じて積載高さの上限を調整</li>
                    <li><strong>パレット種類選択</strong>：使用するパレットサイズを選択</li>
                    <li><strong>パレタイズ計算</strong>：「🔢 パレタイズ計算を実行」で最適配置を自動計算</li>
                    <li><strong>結果確認</strong>：配置図（側面図・層別配置）で視覚的に確認、パレット番号クリックで詳細表示</li>
                    <li><strong>データ管理</strong>：「🗑️ 一括削除」で全データをクリア可能</li>
                </ol>
            </div>
        </div>

        <!-- エラー表示 -->
        <div id="errors"></div>

        <!-- 貨物情報サマリー -->
        <div class="summary-grid">
            <div class="summary-card blue card">
                <div class="card-body text-center">
                    <h3>総カートン数</h3>
                    <p id="totalCartons"></p>
                </div>
            </div>
            <div class="summary-card green card">
                <div class="card-body text-center">
                    <h3>総重量</h3>
                    <p id="totalWeight"></p>
                </div>
            </div>
            <div class="summary-card purple card">
                <div class="card-body text-center">
                    <h3>品目数</h3>
                    <p id="itemCount"></p>
                </div>
            </div>
        </div>

        <div class="control-panel">
            <div class="control-section">
                <h3>作業員追加</h3>
                <div class="flex gap-2">
                    <input type="text" id="workerNameInput" placeholder="名前を入力" class="form-input">
                    <button class="btn btn-primary" onclick="addWorker()">
                        <span>＋</span> 追加
                    </button>
                </div>
            </div>

            <div class="control-section">
                <h3>作業内容追加</h3>
                <div class="flex gap-2">
                    <input type="text" id="workAreaInput" placeholder="作業内容を入力" class="form-input">
                    <button class="btn btn-success" onclick="addWorkArea()">
                        <span>＋</span> 追加
                    </button>
                </div>
            </div>

            <button class="btn btn-warning" onclick="exportToCSV()">
                <span>📥</span> CSV出力
            </button>
        </div>

        <div class="import-section card">
            <div class="card-body">
                <h3>データインポート</h3>
                <div class="flex gap-2">
                    <button class="btn btn-secondary" onclick="downloadTemplate('workers')">
                        <span>📄</span> 作業員テンプレート
                    </button>
                    <button class="btn btn-secondary" onclick="downloadTemplate('areas')">
                        <span>📄</span> 作業内容テンプレート
                    </button>
                    <label class="btn btn-primary">
                        <span>📤</span> CSVインポート
                        <input type="file" id="csvImport" accept=".csv" onchange="handleFileImport(event)" style="display: none;">
                    </label>
                </div>
            </div>
        </div>

        <div class="whiteboard" id="whiteboard"></div>

        <div class="logs-section">
            <h2>作業ログ</h2>
            <table class="table" id="logsTable">
                <thead>
                    <tr>
                        <th>作業員</th>
                        <th>作業内容</th>
                        <th>開始時刻</th>
                        <th>終了時刻</th>
                        <th>作業時間</th>
                    </tr>
                </thead>
                <tbody id="logsBody">
                    <tr>
                        <td colspan="5" class="text-center">まだ作業ログがありません</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 既存のJavaScript（変更なし） -->
    <script>
        // 既存のJavaScriptコードをそのまま使用
        // ...
    </script>
</body>
</html>